<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ArriendoF치cil - Herramienta para peque침os arrendadores de propiedades en Chile">
  <title>ArriendoF치cil - Gesti칩n de Arriendos</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Favicon (opcional) -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游</text></svg>">
</head>

<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="app-sidebar">
      <div class="nav-logo">
        <div class="nav-logo-text">游 ArriendoF치cil</div>
      </div>

      <nav>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="#dashboard" class="nav-link active">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
              <span>Dashboard</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#properties" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <span>Propiedades</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#contracts" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <span>Contratos</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#payments" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" />
              </svg>
              <span>Pagos</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#calculator" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
              </svg>
              <span>Calculadora</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#documents" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
              </svg>
              <span>Documentos</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#taxes" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z" />
              </svg>
              <span>Impuestos SII</span>
            </a>
          </li>

          <li class="nav-item">
            <a href="#settings" class="nav-link">
              <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <span>Configuraci칩n</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- Alertas badge -->
      <div style="padding: var(--space-lg); margin-top: auto;">
        <div class="card-glass" style="padding: var(--space-md);">
          <div class="flex items-center gap-sm">
            <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
            </svg>
            <span class="text-sm">Alertas</span>
            <span id="alerts-badge" class="badge-counter" style="margin-left: auto; display: none;">0</span>
          </div>
        </div>
      </div>
    </aside>

    <!-- Header -->
    <header class="app-header">
      <div>
        <h2 style="margin: 0; font-size: 1.25rem; font-weight: 600;">ArriendoF치cil</h2>
        <p style="margin: 0; font-size: 0.875rem; color: var(--color-text-secondary);">Gesti칩n de arriendos</p>
      </div>

      <div class="flex items-center gap-md">
        <!-- User Login/Info -->
        <button id="login-btn" class="btn btn-primary btn-sm" onclick="FirebaseService.loginWithGoogle()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path
              d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
            <path
              d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
            <path
              d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
            <path
              d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
          </svg>
          Iniciar sesi칩n
        </button>

        <!-- User Info (visible cuando est치 logueado) -->
        <div id="user-info" class="flex items-center gap-sm" style="display: none;">
          <img id="user-avatar" src="" alt="Avatar" style="width: 32px; height: 32px; border-radius: 50%;">
          <span id="user-name" class="text-sm"></span>
          <button class="btn btn-ghost btn-sm" onclick="FirebaseService.logout()" title="Cerrar sesi칩n">
            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
          </button>
        </div>

        <button id="theme-toggle" class="btn btn-ghost" title="Cambiar tema">
          <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main" id="main-content">
      <!-- El contenido se cargar치 din치micamente aqu칤 -->
      <div class="empty-state">
        <div class="empty-state-title">Cargando...</div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p>
        ArriendoF치cil &copy; 2026 - Herramienta para arrendadores
        <span style="opacity: 0.5;">|</span>
        <a href="https://www.sii.cl" target="_blank">SII Chile</a>
        <span style="opacity: 0.5;">|</span>
        <a href="https://mindicador.cl" target="_blank">Mindicador.cl</a>
      </p>
      <p class="text-xs">
        Los documentos generados son plantillas informativas. Se recomienda asesor칤a legal profesional.
      </p>
    </footer>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <!-- Scripts de la App -->
  <script src="js/firebase.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/contracts.js"></script>
  <script src="js/payments.js"></script>
  <script src="js/alerts.js"></script>
  <script src="js/taxes.js"></script>
  <script src="js/modals.js"></script>
  <script src="js/views.js"></script>
  <script src="js/app.js"></script>
</body>

</html>